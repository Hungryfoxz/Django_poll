{% extends 'base.html' %}

{% block content %}

</head>

<body>
<main>
    <div class="table-section">
        <div class="header-result">
            <h1>Results</h1>
        </div>
        <div id="print-content">
          <table id="table">
            <tr class="header-row">
              <th class="header-item items">NAME</th>
              <th class="header-item items">POSTION NAME</th>
              <th class="header-item items" style="padding-left: 2rem;">VOTE</th>
            </tr>
            {% for position in positions %}
                    {% for candidate in candidates  %}
                        {% if candidate.position == position %}
                            <tr class="table-rows">
                            <td class="items">{{candidate.name}}</td>
                            <td class="items">{{candidate.position}}</td>
                            <td class="items icon">{{candidate.votes}}</td>
                            </tr>
                        {% endif %}
                    {% endfor %}
            {% endfor %}
          </table>
        </div>
        <div class="print_me">
            <button onclick="printDiv('print-content')" style="margin-top: 20px" class="btn"> Print Results </button>
        </div>
      </div>
</main>

    <script>
        function printDiv(divName) {
            var printContents = document.getElementById(divName).innerHTML;
            var originalContents = document.body.innerHTML;

            document.body.innerHTML = printContents;

            window.print();

            document.body.innerHTML = originalContents;
        }
     </script>
{% endblock content %}